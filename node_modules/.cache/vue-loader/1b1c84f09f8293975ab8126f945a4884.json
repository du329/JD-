{"remainingRequest":"C:\\Users\\52919\\Desktop\\jd_lqs\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!C:\\Users\\52919\\Desktop\\jd_lqs\\src\\views\\Login\\Login.vue?vue&type=template&id=2c86e14e&scoped=true","dependencies":[{"path":"C:\\Users\\52919\\Desktop\\jd_lqs\\src\\views\\Login\\Login.vue","mtime":1652877631750},{"path":"C:\\Users\\52919\\Desktop\\jd_lqs\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1650532020399},{"path":"C:\\Users\\52919\\Desktop\\jd_lqs\\node_modules\\babel-loader\\lib\\index.js","mtime":1650532020621},{"path":"C:\\Users\\52919\\Desktop\\jd_lqs\\node_modules\\vue-loader-v16\\dist\\templateLoader.js","mtime":1650532024992},{"path":"C:\\Users\\52919\\Desktop\\jd_lqs\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1650532020399},{"path":"C:\\Users\\52919\\Desktop\\jd_lqs\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1650532023421}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQogIDxkaXYgY2xhc3M9ImxvZ2luTGF5b3V0Ij4NCiAgICA8ZGl2IGNsYXNzPSJ1c2VyTG9nbyI+DQogICAgICA8aW1nIHNyYz0iaHR0cDovL3d3dy5kZWxsLWxlZS5jb20vaW1ncy92dWUzL3VzZXIucG5nIiBhbHQ9IiIgLz4NCiAgICA8L2Rpdj4NCg0KICAgIDxkaXYgY2xhc3M9ImxvZ2luTWVzc2FnZSI+DQogICAgICA8aW5wdXQNCiAgICAgICAgdHlwZT0idGV4dCINCiAgICAgICAgY2xhc3M9InVzZXJuYW1lIg0KICAgICAgICBwbGFjZWhvbGRlcj0i6K+36L6T5YWl55So5oi35ZCNIg0KICAgICAgICB2LW1vZGVsPSJ1c2VybmFtZSINCiAgICAgICAgYXV0b2NvbXBsZXRlPSJuZXctcGFzc3dvcmQiDQogICAgICAvPg0KICAgICAgPGlucHV0DQogICAgICAgIHR5cGU9InBhc3N3b3JkIg0KICAgICAgICBjbGFzcz0icHdkIg0KICAgICAgICBwbGFjZWhvbGRlcj0i6K+36L6T5YWl5a+G56CBIg0KICAgICAgICB2LW1vZGVsPSJwYXNzd29yZCINCiAgICAgICAgYXV0b2NvbXBsZXRlPSJuZXctcGFzc3dvcmQiDQogICAgICAvPg0KICAgICAgPGJ1dHRvbiBjbGFzcz0ic3VibWl0IiBAY2xpY2s9ImhhbmRsZUxvZ2luIj7nmbvlvZU8L2J1dHRvbj4NCiAgICAgIDxkaXYgY2xhc3M9ImxvZ2luTGluayI+DQogICAgICAgIDxyb3V0ZXItbGluayA6dG89InsgbmFtZTogJ1JlZ2lzdGVyJyB9Ij4NCiAgICAgICAgICA8c3BhbiBjbGFzcz0ibG9naW5MaW5rX19pdGVtIj7nq4vljbPms6jlhow8L3NwYW4+DQogICAgICAgIDwvcm91dGVyLWxpbms+DQogICAgICAgIDxzcGFuIGNsYXNzPSJnYXBMaW5lIj58PC9zcGFuPg0KICAgICAgICA8c3BhbiBjbGFzcz0ibG9naW5MaW5rX19pdGVtIj7lv5jorrDlr4bnoIE8L3NwYW4+DQogICAgICA8L2Rpdj4NCiAgICA8L2Rpdj4NCg0KICAgIDx0cmFuc2l0aW9uDQogICAgICA6ZHVyYXRpb249InsgZW50ZXI6IDAsIGxlYXZlOiAwIH0iDQogICAgICBlbnRlci1hY3RpdmUtY2xhc3M9ImFuaW1hdGVfX2FuaW1hdGVkIGFuaW1hdGVfX2ZhZGVJbiINCiAgICAgIGxlYXZlLWFjdGl2ZS1jbGFzcz0iYW5pbWF0ZV9fYW5pbWF0ZWQgYW5pbWF0ZV9fZmFkZU91dCINCiAgICA+DQogICAgICA8VG9hc3Qgdi1pZj0ic2hvdyIgOmNvbnRlbnQ9ImNvbnRlbnQiIC8+DQogICAgPC90cmFuc2l0aW9uPg0KICA8L2Rpdj4NCg=="},{"version":3,"sources":["C:\\Users\\52919\\Desktop\\jd_lqs\\src\\views\\Login\\Login.vue"],"names":[],"mappings":"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","file":"C:/Users/52919/Desktop/jd_lqs/src/views/Login/Login.vue","sourceRoot":"","sourcesContent":["<template>\r\n  <div class=\"loginLayout\">\r\n    <div class=\"userLogo\">\r\n      <img src=\"http://www.dell-lee.com/imgs/vue3/user.png\" alt=\"\" />\r\n    </div>\r\n\r\n    <div class=\"loginMessage\">\r\n      <input\r\n        type=\"text\"\r\n        class=\"username\"\r\n        placeholder=\"请输入用户名\"\r\n        v-model=\"username\"\r\n        autocomplete=\"new-password\"\r\n      />\r\n      <input\r\n        type=\"password\"\r\n        class=\"pwd\"\r\n        placeholder=\"请输入密码\"\r\n        v-model=\"password\"\r\n        autocomplete=\"new-password\"\r\n      />\r\n      <button class=\"submit\" @click=\"handleLogin\">登录</button>\r\n      <div class=\"loginLink\">\r\n        <router-link :to=\"{ name: 'Register' }\">\r\n          <span class=\"loginLink__item\">立即注册</span>\r\n        </router-link>\r\n        <span class=\"gapLine\">|</span>\r\n        <span class=\"loginLink__item\">忘记密码</span>\r\n      </div>\r\n    </div>\r\n\r\n    <transition\r\n      :duration=\"{ enter: 0, leave: 0 }\"\r\n      enter-active-class=\"animate__animated animate__fadeIn\"\r\n      leave-active-class=\"animate__animated animate__fadeOut\"\r\n    >\r\n      <Toast v-if=\"show\" :content=\"content\" />\r\n    </transition>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n// import { useRouter } from \"vue-router\"; // 路由插件\r\nimport { reactive, toRefs } from \"@vue/reactivity\";\r\nimport { request } from \"../../utils/request\"; // axios请求函数\r\nimport Toast, { useToastEffect } from \"../../components/Toast\"; // 自定义弹窗\r\nimport \"animate.css\";\r\n\r\n// 处理登录\r\nconst useLoginEffect = (showToast) => {\r\n  // const router = useRouter();\r\n  const loginMessage = reactive({ username: \"\", password: \"\" });\r\n  const { username, password } = toRefs(loginMessage);\r\n\r\n  const handleLogin = async () => {\r\n    // 用户名、密码验证\r\n    // let userVerify | pwdVerify = /^[a-zA-Z0-9_-]{11,16}$/;\r\n    if (username.value === '') {\r\n      showToast(\"请输入用户名!\");\r\n      return;\r\n    }\r\n    if (password.value === '') {\r\n      showToast(\"请输入密码!\");\r\n      return;\r\n    }\r\n    try {\r\n      const result = await request(\"/user/login\", loginMessage, \"post\");\r\n      if (result?.errno === 0) {\r\n        showToast(\"登录成功!\");\r\n        localStorage.isLogin = true;\r\n        setTimeout(() => {\r\n          router.push({ name: \"Home\" });\r\n        }, 800);\r\n      } else {\r\n        showToast(\"登录失败!\");\r\n      }\r\n    } catch (error) {\r\n      console.log(error);\r\n      showToast(\"请求失败!\");\r\n    }\r\n  };\r\n  return { username, password, handleLogin };\r\n};\r\n\r\nexport default {\r\n  name: \"Login\",\r\n  components: {\r\n    Toast,\r\n  },\r\n  // setup的职责：了解代码执行的一个流程\r\n  setup() {\r\n    const { show, content, showToast } = useToastEffect();\r\n    const { username, password, handleLogin } = useLoginEffect(showToast);\r\n    return { username, password, show, content, handleLogin };\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n@import \"../../style/viriables.scss\";\r\n.loginLayout {\r\n  padding: 1.2rem 0.4rem 0;\r\n  .userLogo {\r\n    margin: 0 auto 0.4rem;\r\n    width: 0.66rem;\r\n    height: 0.66rem;\r\n    img {\r\n      width: 100%;\r\n    }\r\n  }\r\n  .loginMessage {\r\n    .username,\r\n    .pwd {\r\n      margin-bottom: 0.16rem;\r\n      padding-left: 0.16rem;\r\n      width: 100%;\r\n      height: 0.48rem;\r\n      background: #f9f9f9;\r\n      border: 1px solid rgba(0, 0, 0, 0.1);\r\n      outline-color: #0091ff;\r\n      border-radius: 0.06rem;\r\n      &::placeholder {\r\n        font-weight: 500;\r\n        font-size: 0.16rem;\r\n        color: $color;\r\n        letter-spacing: 0;\r\n        line-height: 24px;\r\n      }\r\n    }\r\n    .pwd {\r\n      margin-bottom: 0.32rem;\r\n    }\r\n    .submit {\r\n      margin-bottom: 0.16rem;\r\n      width: 2.95rem;\r\n      height: 0.48rem;\r\n      line-height: 24px;\r\n      text-align: center;\r\n      font-size: 0.16rem;\r\n      background: #0091ff;\r\n      color: #ffffff;\r\n      border: 0;\r\n      border-radius: 0.06rem;\r\n    }\r\n    .loginLink {\r\n      text-align: center;\r\n      font-size: 0.14rem;\r\n      color: $color;\r\n      .gapLine {\r\n        margin: 0 0.12rem;\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>"]}]}