{"remainingRequest":"C:\\Users\\52919\\Desktop\\jd_lqs\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\52919\\Desktop\\jd_lqs\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!C:\\Users\\52919\\Desktop\\jd_lqs\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!C:\\Users\\52919\\Desktop\\jd_lqs\\src\\views\\Shop\\Shop.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\Users\\52919\\Desktop\\jd_lqs\\src\\views\\Shop\\Shop.vue","mtime":1653034828896},{"path":"C:\\Users\\52919\\Desktop\\jd_lqs\\babel.config.js","mtime":1592841393000},{"path":"C:\\Users\\52919\\Desktop\\jd_lqs\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1650532020399},{"path":"C:\\Users\\52919\\Desktop\\jd_lqs\\node_modules\\babel-loader\\lib\\index.js","mtime":1650532020621},{"path":"C:\\Users\\52919\\Desktop\\jd_lqs\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1650532020399},{"path":"C:\\Users\\52919\\Desktop\\jd_lqs\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1650532023421}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkM6L1VzZXJzLzUyOTE5L0Rlc2t0b3AvamRfbHFzL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yLmpzIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgeyByZWFjdGl2ZSwgdG9SZWZzIH0gZnJvbSAiQHZ1ZS9yZWFjdGl2aXR5IjsKaW1wb3J0IHsgdXNlUm91dGVyLCB1c2VSb3V0ZSB9IGZyb20gInZ1ZS1yb3V0ZXIiOwppbXBvcnQgU2VhcmNoIGZyb20gIi4uLy4uL2NvbXBvbmVudHMvU2VhcmNoLnZ1ZSI7CmltcG9ydCBTaG9wSW5mbyBmcm9tICIuLi8uLi9jb21wb25lbnRzL1Nob3BJbmZvLnZ1ZSI7CmltcG9ydCBTaG9wTWFpbiBmcm9tICcuL1Nob3BNYWluLnZ1ZSc7CmltcG9ydCBTaG9wQ2FydCBmcm9tICcuL1Nob3BDYXJ0LnZ1ZSc7CmltcG9ydCB7IGdldCB9IGZyb20gIi4uLy4uL3V0aWxzL3JlcXVlc3QiOyAvLyDlm57pgIAKCnZhciB1c2VCYWNrRWZmZWN0ID0gZnVuY3Rpb24gdXNlQmFja0VmZmVjdCgpIHsKICB2YXIgcm91dGVyID0gdXNlUm91dGVyKCk7CgogIHZhciBoYW5kbGVCYWNrID0gZnVuY3Rpb24gaGFuZGxlQmFjaygpIHsKICAgIHJvdXRlci5iYWNrKCk7CiAgfTsKCiAgcmV0dXJuIGhhbmRsZUJhY2s7Cn07IC8vIOiOt+WPluW9k+WJjeWVhumTuuivpuaDhQoKCnZhciB1c2VTaG9wRGV0aWFsRWZmZWN0ID0gZnVuY3Rpb24gdXNlU2hvcERldGlhbEVmZmVjdCgpIHsKICB2YXIgcm91dGUgPSB1c2VSb3V0ZSgpOwogIHZhciBkYXRhID0gcmVhY3RpdmUoewogICAgaXRlbToge30KICB9KTsgLy8gY29uc3QgZGF0YTIgPSB7IGl0ZW06IHt9IH07ICDlk43lupTlvI8tLeaVsOaNrumpseWKqAogIC8vIGxldCBpdGVtID0gcmVmKHt9KTsKICAvLyBsZXQgaXRlbSA9IHJlYWN0aXZlKHt9KTsg55u05o6l5pu/5o2i5a+56LGh77yI5Zyw5Z2A77yJ77yM5a+86Ie05ZON5bqU5byP5aSx5pWICiAgLy8g6K+35rGC5pWw5o2uCgogIHZhciBnZXRTaG9wRGV0aWFsID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICAgIHZhciBfcmVmID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICB2YXIgcmVzdWx0OwogICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDI7CiAgICAgICAgICAgICAgcmV0dXJuIGdldCgiL3Nob3AvIi5jb25jYXQocm91dGUucGFyYW1zLmlkKSk7CgogICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgcmVzdWx0ID0gX2NvbnRleHQuc2VudDsKCiAgICAgICAgICAgICAgaWYgKChyZXN1bHQgPT09IG51bGwgfHwgcmVzdWx0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXN1bHQuZXJybm8pID09PSAwICYmIHJlc3VsdCAhPT0gbnVsbCAmJiByZXN1bHQgIT09IHZvaWQgMCAmJiByZXN1bHQuZGF0YSkgewogICAgICAgICAgICAgICAgZGF0YS5pdGVtID0gcmVzdWx0LmRhdGE7IC8vIOKImuKImuKImgogICAgICAgICAgICAgICAgLy8gaXRlbS52YWx1ZSA9IHJlc3VsdC5kYXRhOyAg4oia4oia4oiaCiAgICAgICAgICAgICAgICAvLyBpdGVtID0gcmVzdWx0LmRhdGE7ICAgICB4eHgKICAgICAgICAgICAgICB9CgogICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sIF9jYWxsZWUpOwogICAgfSkpOwoKICAgIHJldHVybiBmdW5jdGlvbiBnZXRTaG9wRGV0aWFsKCkgewogICAgICByZXR1cm4gX3JlZi5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgfTsKICB9KCk7IC8vIOW8guatpe+8mml0ZW0gLS0g5ZON5bqU5byPCgoKICBnZXRTaG9wRGV0aWFsKCk7CgogIHZhciBfdG9SZWZzID0gdG9SZWZzKGRhdGEpLAogICAgICBpdGVtID0gX3RvUmVmcy5pdGVtOwoKICByZXR1cm4gewogICAgaXRlbTogaXRlbQogIH07Cn07CgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIlNob3AiLAogIGNvbXBvbmVudHM6IHsKICAgIFNlYXJjaDogU2VhcmNoLAogICAgU2hvcEluZm86IFNob3BJbmZvLAogICAgU2hvcE1haW46IFNob3BNYWluCiAgfSwKICBzZXR1cDogZnVuY3Rpb24gc2V0dXAoKSB7CiAgICB2YXIgcGxhY2Vob2xkZXIgPSAi6K+36L6T5YWl5ZWG5ZOB5ZCN56ew5pCc57SiIjsKICAgIHZhciBoYW5kbGVCYWNrID0gdXNlQmFja0VmZmVjdCgpOwoKICAgIHZhciBfdXNlU2hvcERldGlhbEVmZmVjdCA9IHVzZVNob3BEZXRpYWxFZmZlY3QoKSwKICAgICAgICBpdGVtID0gX3VzZVNob3BEZXRpYWxFZmZlY3QuaXRlbTsKCiAgICByZXR1cm4gewogICAgICBwbGFjZWhvbGRlcjogcGxhY2Vob2xkZXIsCiAgICAgIGl0ZW06IGl0ZW0sCiAgICAgIGhhbmRsZUJhY2s6IGhhbmRsZUJhY2sKICAgIH07CiAgfQp9Ow=="},{"version":3,"mappings":";;AAgBA,SAASA,QAAT,EAAmBC,MAAnB,QAAiC,iBAAjC;AACA,SAASC,SAAT,EAAoBC,QAApB,QAAoC,YAApC;AACA,OAAOC,MAAP,MAAmB,6BAAnB;AACA,OAAOC,QAAP,MAAqB,+BAArB;AACA,OAAOC,QAAP,MAAqB,gBAArB;AACA,OAAOC,QAAP,MAAqB,gBAArB;AACA,SAASC,GAAT,QAAoB,qBAApB,C,CAEA;;AACA,IAAMC,aAAY,GAAI,SAAhBA,aAAgB,GAAM;AAC1B,MAAMC,MAAK,GAAIR,SAAS,EAAxB;;AACA,MAAMS,UAAS,GAAI,SAAbA,UAAa,GAAM;AACvBD,UAAM,CAACE,IAAP;AACD,GAFD;;AAGA,SAAOD,UAAP;AACD,CAND,C,CAQA;;;AACA,IAAME,mBAAkB,GAAI,SAAtBA,mBAAsB,GAAM;AAChC,MAAMC,KAAI,GAAIX,QAAQ,EAAtB;AACA,MAAMY,IAAG,GAAIf,QAAQ,CAAC;AAAEgB,QAAI,EAAE;AAAR,GAAD,CAArB,CAFgC,CAGhC;AACA;AACA;AACA;;AACA,MAAMC,aAAY;AAAA,uEAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBACCT,GAAG,iBAAUM,KAAK,CAACI,MAAN,CAAaC,EAAvB,EADJ;;AAAA;AACdC,oBADc;;AAEpB,kBAAI,OAAM,SAAN,UAAM,WAAN,kBAAM,CAAEC,KAAR,MAAkB,CAAlB,IAAuBD,MAAvB,aAAuBA,MAAvB,eAAuBA,MAAM,CAAEL,IAAnC,EAAyC;AACvCA,oBAAI,CAACC,IAAL,GAAYI,MAAM,CAACL,IAAnB,CADuC,CACd;AACzB;AACA;AACF;;AANoB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAJ;;AAAA,oBAAZE,aAAY;AAAA;AAAA;AAAA,KAAlB,CAPgC,CAehC;;;AACAA,eAAa;;AACb,gBAAiBhB,MAAM,CAACc,IAAD,CAAvB;AAAA,MAAQC,IAAR,WAAQA,IAAR;;AAEA,SAAO;AAAEA,QAAG,EAAHA;AAAF,GAAP;AACD,CApBD;;AAsBA,eAAe;AACbM,MAAI,EAAE,MADO;AAEbC,YAAU,EAAE;AACVnB,UAAM,EAANA,MADU;AAEVC,YAAQ,EAARA,QAFU;AAGVC,YAAO,EAAPA;AAHU,GAFC;AAObkB,OAPa,mBAOL;AACN,QAAMC,WAAU,GAAI,WAApB;AACA,QAAMd,UAAS,GAAIF,aAAa,EAAhC;;AACA,+BAAiBI,mBAAmB,EAApC;AAAA,QAAQG,IAAR,wBAAQA,IAAR;;AAEA,WAAO;AAAES,iBAAW,EAAXA,WAAF;AAAeT,UAAI,EAAJA,IAAf;AAAqBL,gBAAS,EAATA;AAArB,KAAP;AACD;AAbY,CAAf","names":["reactive","toRefs","useRouter","useRoute","Search","ShopInfo","ShopMain","ShopCart","get","useBackEffect","router","handleBack","back","useShopDetialEffect","route","data","item","getShopDetial","params","id","result","errno","name","components","setup","placeholder"],"sourceRoot":"","sources":["C:\\Users\\52919\\Desktop\\jd_lqs\\src\\views\\Shop\\Shop.vue"],"sourcesContent":["<template>\r\n  <div class=\"shopHeader\">\r\n    <div class=\"top\">\r\n      <div class=\"back icon\" @click=\"handleBack\">&#xe640;</div>\r\n      <div class=\"searchBox\">\r\n        <Search :placeholder=\"placeholder\" />\r\n      </div>\r\n    </div>\r\n    <div class=\"shopInfo\">\r\n      <ShopInfo :item=\"item\" :showBorder=\"false\" v-if=\"item.imgUrl\"/>\r\n    </div>\r\n  </div>\r\n  <ShopMain />\r\n</template>\r\n\r\n<script>\r\nimport { reactive, toRefs } from \"@vue/reactivity\";\r\nimport { useRouter, useRoute } from \"vue-router\";\r\nimport Search from \"../../components/Search.vue\";\r\nimport ShopInfo from \"../../components/ShopInfo.vue\";\r\nimport ShopMain from './ShopMain.vue';\r\nimport ShopCart from './ShopCart.vue';\r\nimport { get } from \"../../utils/request\";\r\n\r\n// 回退\r\nconst useBackEffect = () => {\r\n  const router = useRouter();\r\n  const handleBack = () => {\r\n    router.back();\r\n  };\r\n  return handleBack;\r\n};\r\n\r\n// 获取当前商铺详情\r\nconst useShopDetialEffect = () => {\r\n  const route = useRoute();\r\n  const data = reactive({ item: {} });\r\n  // const data2 = { item: {} };  响应式--数据驱动\r\n  // let item = ref({});\r\n  // let item = reactive({}); 直接替换对象（地址），导致响应式失效\r\n  // 请求数据\r\n  const getShopDetial = async () => {\r\n    const result = await get(`/shop/${route.params.id}`);\r\n    if (result?.errno === 0 && result?.data) {\r\n      data.item = result.data; // √√√\r\n      // item.value = result.data;  √√√\r\n      // item = result.data;     xxx\r\n    }\r\n  };\r\n  // 异步：item -- 响应式\r\n  getShopDetial();\r\n  const { item } = toRefs(data);\r\n\r\n  return { item };\r\n};\r\n\r\nexport default {\r\n  name: \"Shop\",\r\n  components: {\r\n    Search,\r\n    ShopInfo,\r\n    ShopMain\r\n  },\r\n  setup() {\r\n    const placeholder = \"请输入商品名称搜索\";\r\n    const handleBack = useBackEffect();\r\n    const { item } = useShopDetialEffect();\r\n\r\n    return { placeholder, item, handleBack };\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n// 回退、搜索\r\n.top {\r\n  display: flex;\r\n  align-items: center;\r\n  padding: 0.16rem 0.14rem;\r\n  .back {\r\n    font-size: 0.28rem;\r\n    color: #b6b6b6;\r\n    padding-right: 0.1rem;\r\n  }\r\n  .searchBox {\r\n    width: 100%;\r\n  }\r\n}\r\n\r\n//shopInfo\r\n.shopInfo {\r\n  padding: 0 0.18rem;\r\n}\r\n</style>"]}]}