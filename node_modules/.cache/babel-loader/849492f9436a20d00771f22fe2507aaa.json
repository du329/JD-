{"remainingRequest":"C:\\Users\\52919\\Desktop\\jd_lqs\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\52919\\Desktop\\jd_lqs\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!C:\\Users\\52919\\Desktop\\jd_lqs\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!C:\\Users\\52919\\Desktop\\jd_lqs\\src\\views\\Register\\Register.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\Users\\52919\\Desktop\\jd_lqs\\src\\views\\Register\\Register.vue","mtime":1653053848957},{"path":"C:\\Users\\52919\\Desktop\\jd_lqs\\babel.config.js","mtime":1592841393000},{"path":"C:\\Users\\52919\\Desktop\\jd_lqs\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1650532020399},{"path":"C:\\Users\\52919\\Desktop\\jd_lqs\\node_modules\\babel-loader\\lib\\index.js","mtime":1650532020621},{"path":"C:\\Users\\52919\\Desktop\\jd_lqs\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1650532020399},{"path":"C:\\Users\\52919\\Desktop\\jd_lqs\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1650532023421}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkM6L1VzZXJzLzUyOTE5L0Rlc2t0b3AvamRfbHFzL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yLmpzIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgeyB1c2VSb3V0ZXIgfSBmcm9tICJ2dWUtcm91dGVyIjsKaW1wb3J0IHsgcmVhY3RpdmUsIHRvUmVmcyB9IGZyb20gIkB2dWUvcmVhY3Rpdml0eSI7CmltcG9ydCB7IHBvc3QgfSBmcm9tICIuLi8uLi91dGlscy9yZXF1ZXN0IjsgLy8gYXhpb3Por7fmsYLlh73mlbAKCmltcG9ydCBUb2FzdCwgeyB1c2VUb2FzdEVmZmVjdCB9IGZyb20gIi4uLy4uL2NvbXBvbmVudHMvVG9hc3QiOyAvLyDoh6rlrprkuYnlvLnnqpcKLy8g5aSE55CG5rOo5YaMCgp2YXIgdXNlUmVnaXN0ZXJFZmZlY3QgPSBmdW5jdGlvbiB1c2VSZWdpc3RlckVmZmVjdChzaG93VG9hc3QpIHsKICB2YXIgcm91dGVyID0gdXNlUm91dGVyKCk7CiAgdmFyIHJlZ2lzdGVyTWVzc2FnZSA9IHJlYWN0aXZlKHsKICAgIHVzZXJuYW1lOiAiIiwKICAgIHBhc3N3b3JkOiAiIiwKICAgIGVuc3VyZW1lbnQ6ICIiCiAgfSk7CgogIHZhciBfdG9SZWZzID0gdG9SZWZzKHJlZ2lzdGVyTWVzc2FnZSksCiAgICAgIHVzZXJuYW1lID0gX3RvUmVmcy51c2VybmFtZSwKICAgICAgcGFzc3dvcmQgPSBfdG9SZWZzLnBhc3N3b3JkLAogICAgICBlbnN1cmVtZW50ID0gX3RvUmVmcy5lbnN1cmVtZW50OwoKICB2YXIgaGFuZGxlUmVnaXN0ZXIgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkgewogICAgdmFyIF9yZWYgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgIHZhciByZXN1bHQ7CiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBpZiAoISh1c2VybmFtZS52YWx1ZSA9PT0gIiIpKSB7CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMzsKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgc2hvd1RvYXN0KCLor7fovpPlhaXnlKjmiLflkI0hIik7CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdCgicmV0dXJuIik7CgogICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgaWYgKCEocGFzc3dvcmQudmFsdWUgPT09ICIiKSkgewogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDY7CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIHNob3dUb2FzdCgi6K+36L6T5YWl5a+G56CBISIpOwogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoInJldHVybiIpOwoKICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICAgIGlmICghKGVuc3VyZW1lbnQudmFsdWUgPT09ICIiKSkgewogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDk7CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIHNob3dUb2FzdCgi6K+36L6T5YWl56Gu6K6k5a+G56CBISIpOwogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoInJldHVybiIpOwoKICAgICAgICAgICAgY2FzZSA5OgogICAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSA5OwogICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxMjsKICAgICAgICAgICAgICByZXR1cm4gcG9zdCgiL3VzZXIvcmVnaXN0ZXIiLCByZWdpc3Rlck1lc3NhZ2UpOwoKICAgICAgICAgICAgY2FzZSAxMjoKICAgICAgICAgICAgICByZXN1bHQgPSBfY29udGV4dC5zZW50OwoKICAgICAgICAgICAgICBpZiAoKHJlc3VsdCA9PT0gbnVsbCB8fCByZXN1bHQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlc3VsdC5lcnJubykgPT09IDApIHsKICAgICAgICAgICAgICAgIHNob3dUb2FzdCgi5rOo5YaM5oiQ5YqfISIpOwogICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgIHJvdXRlci5wdXNoKHsKICAgICAgICAgICAgICAgICAgICBuYW1lOiAiTG9naW4iCiAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfSwgODAwKTsKICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgc2hvd1RvYXN0KCLms6jlhozlpLHotKUhIik7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjA7CiAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICBjYXNlIDE2OgogICAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSAxNjsKICAgICAgICAgICAgICBfY29udGV4dC50MCA9IF9jb250ZXh0WyJjYXRjaCJdKDkpOwogICAgICAgICAgICAgIGNvbnNvbGUubG9nKF9jb250ZXh0LnQwKTsKICAgICAgICAgICAgICBzaG93VG9hc3QoIuivt+axguWksei0pSEiKTsKCiAgICAgICAgICAgIGNhc2UgMjA6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sIF9jYWxsZWUsIG51bGwsIFtbOSwgMTZdXSk7CiAgICB9KSk7CgogICAgcmV0dXJuIGZ1bmN0aW9uIGhhbmRsZVJlZ2lzdGVyKCkgewogICAgICByZXR1cm4gX3JlZi5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgfTsKICB9KCk7CgogIHJldHVybiB7CiAgICB1c2VybmFtZTogdXNlcm5hbWUsCiAgICBwYXNzd29yZDogcGFzc3dvcmQsCiAgICBlbnN1cmVtZW50OiBlbnN1cmVtZW50LAogICAgaGFuZGxlUmVnaXN0ZXI6IGhhbmRsZVJlZ2lzdGVyCiAgfTsKfTsKCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiUmVnaXN0ZXIiLAogIGNvbXBvbmVudHM6IHsKICAgIFRvYXN0OiBUb2FzdAogIH0sCiAgc2V0dXA6IGZ1bmN0aW9uIHNldHVwKCkgewogICAgdmFyIF91c2VUb2FzdEVmZmVjdCA9IHVzZVRvYXN0RWZmZWN0KCksCiAgICAgICAgc2hvdyA9IF91c2VUb2FzdEVmZmVjdC5zaG93LAogICAgICAgIGNvbnRlbnQgPSBfdXNlVG9hc3RFZmZlY3QuY29udGVudCwKICAgICAgICBzaG93VG9hc3QgPSBfdXNlVG9hc3RFZmZlY3Quc2hvd1RvYXN0OwoKICAgIHZhciBfdXNlUmVnaXN0ZXJFZmZlY3QgPSB1c2VSZWdpc3RlckVmZmVjdChzaG93VG9hc3QpLAogICAgICAgIHVzZXJuYW1lID0gX3VzZVJlZ2lzdGVyRWZmZWN0LnVzZXJuYW1lLAogICAgICAgIHBhc3N3b3JkID0gX3VzZVJlZ2lzdGVyRWZmZWN0LnBhc3N3b3JkLAogICAgICAgIGVuc3VyZW1lbnQgPSBfdXNlUmVnaXN0ZXJFZmZlY3QuZW5zdXJlbWVudCwKICAgICAgICBoYW5kbGVSZWdpc3RlciA9IF91c2VSZWdpc3RlckVmZmVjdC5oYW5kbGVSZWdpc3RlcjsKCiAgICByZXR1cm4gewogICAgICB1c2VybmFtZTogdXNlcm5hbWUsCiAgICAgIHBhc3N3b3JkOiBwYXNzd29yZCwKICAgICAgZW5zdXJlbWVudDogZW5zdXJlbWVudCwKICAgICAgaGFuZGxlUmVnaXN0ZXI6IGhhbmRsZVJlZ2lzdGVyLAogICAgICBzaG93OiBzaG93LAogICAgICBjb250ZW50OiBjb250ZW50CiAgICB9OwogIH0KfTs="},{"version":3,"mappings":";;AA6CA,SAASA,SAAT,QAA0B,YAA1B;AACA,SAASC,QAAT,EAAmBC,MAAnB,QAAiC,iBAAjC;AACA,SAASC,IAAT,QAAqB,qBAArB,C,CAA4C;;AAC5C,OAAOC,KAAP,IAAgBC,cAAhB,QAAsC,wBAAtC,C,CAAgE;AAEhE;;AACA,IAAMC,iBAAgB,GAAI,SAApBA,iBAAoB,CAACC,SAAD,EAAe;AACvC,MAAMC,MAAK,GAAIR,SAAS,EAAxB;AACA,MAAMS,eAAc,GAAIR,QAAQ,CAAC;AAC/BS,YAAQ,EAAE,EADqB;AAE/BC,YAAQ,EAAE,EAFqB;AAG/BC,cAAU,EAAE;AAHmB,GAAD,CAAhC;;AAKA,gBAA2CV,MAAM,CAACO,eAAD,CAAjD;AAAA,MAAQC,QAAR,WAAQA,QAAR;AAAA,MAAkBC,QAAlB,WAAkBA,QAAlB;AAAA,MAA4BC,UAA5B,WAA4BA,UAA5B;;AAEA,MAAMC,cAAa;AAAA,uEAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAGjBH,QAAQ,CAACI,KAAT,KAAmB,EAHF;AAAA;AAAA;AAAA;;AAInBP,uBAAS,CAAC,SAAD,CAAT;AAJmB;;AAAA;AAAA,oBAOjBI,QAAQ,CAACG,KAAT,KAAmB,EAPF;AAAA;AAAA;AAAA;;AAQnBP,uBAAS,CAAC,QAAD,CAAT;AARmB;;AAAA;AAAA,oBAWjBK,UAAU,CAACE,KAAX,KAAqB,EAXJ;AAAA;AAAA;AAAA;;AAYnBP,uBAAS,CAAC,UAAD,CAAT;AAZmB;;AAAA;AAAA;AAAA;AAAA,qBAgBEJ,IAAI,CAAC,gBAAD,EAAmBM,eAAnB,CAhBN;;AAAA;AAgBbM,oBAhBa;;AAiBnB,kBAAI,OAAM,SAAN,UAAM,WAAN,kBAAM,CAAEC,KAAR,MAAkB,CAAtB,EAAyB;AACvBT,yBAAS,CAAC,OAAD,CAAT;AACAU,0BAAU,CAAC,YAAM;AACfT,wBAAM,CAACU,IAAP,CAAY;AAAEC,wBAAI,EAAE;AAAR,mBAAZ;AACD,iBAFS,EAEP,GAFO,CAAV;AAGF,eALA,MAKO;AACLZ,yBAAS,CAAC,OAAD,CAAT;AACF;;AAxBmB;AAAA;;AAAA;AAAA;AAAA;AA0BnBa,qBAAO,CAACC,GAAR;AACAd,uBAAS,CAAC,OAAD,CAAT;;AA3BmB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAJ;;AAAA,oBAAbM,cAAa;AAAA;AAAA;AAAA,KAAnB;;AA8BA,SAAO;AAAEH,YAAQ,EAARA,QAAF;AAAYC,YAAQ,EAARA,QAAZ;AAAsBC,cAAU,EAAVA,UAAtB;AAAkCC,kBAAa,EAAbA;AAAlC,GAAP;AACD,CAxCD;;AA0CA,eAAe;AACbM,MAAI,EAAE,UADO;AAEbG,YAAU,EAAE;AACVlB,SAAK,EAALA;AADU,GAFC;AAKbmB,OALa,mBAKL;AACN,0BAAqClB,cAAc,EAAnD;AAAA,QAAQmB,IAAR,mBAAQA,IAAR;AAAA,QAAcC,OAAd,mBAAcA,OAAd;AAAA,QAAuBlB,SAAvB,mBAAuBA,SAAvB;;AACA,6BACED,iBAAiB,CAACC,SAAD,CADnB;AAAA,QAAQG,QAAR,sBAAQA,QAAR;AAAA,QAAkBC,QAAlB,sBAAkBA,QAAlB;AAAA,QAA4BC,UAA5B,sBAA4BA,UAA5B;AAAA,QAAwCC,cAAxC,sBAAwCA,cAAxC;;AAGA,WAAO;AACLH,cAAQ,EAARA,QADK;AAELC,cAAQ,EAARA,QAFK;AAGLC,gBAAU,EAAVA,UAHK;AAILC,oBAAc,EAAdA,cAJK;AAKLW,UAAI,EAAJA,IALK;AAMLC,aAAO,EAAPA;AANK,KAAP;AAQD;AAlBY,CAAf","names":["useRouter","reactive","toRefs","post","Toast","useToastEffect","useRegisterEffect","showToast","router","registerMessage","username","password","ensurement","handleRegister","value","result","errno","setTimeout","push","name","console","log","components","setup","show","content"],"sourceRoot":"","sources":["C:\\Users\\52919\\Desktop\\jd_lqs\\src\\views\\Register\\Register.vue"],"sourcesContent":["<template>\r\n  <div class=\"registerLayout\">\r\n    <div class=\"userLogo\">\r\n      <img src=\"http://www.dell-lee.com/imgs/vue3/user.png\" alt=\"\" />\r\n    </div>\r\n\r\n    <div class=\"registerMessage\">\r\n      <input\r\n        type=\"text\"\r\n        class=\"username\"\r\n        placeholder=\"请输入用户名\"\r\n        v-model=\"username\"\r\n      />\r\n      <input\r\n        type=\"password\"\r\n        class=\"pwd\"\r\n        placeholder=\"请输入密码\"\r\n        v-model=\"password\"\r\n      />\r\n      <input\r\n        type=\"password\"\r\n        class=\"pwd\"\r\n        placeholder=\"请确认密码\"\r\n        v-model=\"ensurement\"\r\n      />\r\n      <button class=\"submit\" @click=\"handleRegister\">注册</button>\r\n\r\n      <div class=\"registerLink\">\r\n        <router-link :to=\"{ name: 'Login' }\">\r\n          <span class=\"registerLink__item\">已有账号去登录</span>\r\n        </router-link>\r\n      </div>\r\n    </div>\r\n\r\n <transition\r\n      :duration=\"{ enter: 0, leave: 0 }\"\r\n      enter-active-class=\"animate__animated animate__fadeIn\"\r\n      leave-active-class=\"animate__animated animate__fadeOut\"\r\n    >\r\n      <Toast v-if=\"show\" :content=\"content\" />\r\n    </transition>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { useRouter } from \"vue-router\";\r\nimport { reactive, toRefs } from \"@vue/reactivity\";\r\nimport { post } from \"../../utils/request\"; // axios请求函数\r\nimport Toast, { useToastEffect } from \"../../components/Toast\"; // 自定义弹窗\r\n\r\n// 处理注册\r\nconst useRegisterEffect = (showToast) => {\r\n  const router = useRouter();\r\n  const registerMessage = reactive({\r\n    username: \"\",\r\n    password: \"\",\r\n    ensurement: \"\",\r\n  });\r\n  const { username, password, ensurement } = toRefs(registerMessage);\r\n\r\n  const handleRegister = async () => {\r\n    // 用户名、密码验证\r\n    // let userVerify | pwdVerify = /^[a-zA-Z0-9_-]{11,16}$/;\r\n    if (username.value === \"\") {\r\n      showToast(\"请输入用户名!\");\r\n      return;\r\n    }\r\n    if (password.value === \"\") {\r\n      showToast(\"请输入密码!\");\r\n      return;\r\n    }\r\n    if (ensurement.value === \"\") {\r\n      showToast(\"请输入确认密码!\");\r\n      return;\r\n    }\r\n    try {\r\n      const result = await post(\"/user/register\", registerMessage);\r\n      if (result?.errno === 0) {\r\n        showToast(\"注册成功!\");\r\n        setTimeout(() => {\r\n          router.push({ name: \"Login\" });\r\n        }, 800);\r\n      } else {\r\n        showToast(\"注册失败!\");\r\n      }\r\n    } catch (error) {\r\n      console.log(error);\r\n      showToast(\"请求失败!\");\r\n    }\r\n  };\r\n  return { username, password, ensurement, handleRegister };\r\n};\r\n\r\nexport default {\r\n  name: \"Register\",\r\n  components: {\r\n    Toast,\r\n  },\r\n  setup() {\r\n    const { show, content, showToast } = useToastEffect();\r\n    const { username, password, ensurement, handleRegister } =\r\n      useRegisterEffect(showToast);\r\n\r\n    return {\r\n      username,\r\n      password,\r\n      ensurement,\r\n      handleRegister,\r\n      show,\r\n      content,\r\n    };\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n@import \"../../style/viriables.scss\";\r\n.registerLayout {\r\n  padding: 1.2rem 0.4rem 0;\r\n  .userLogo {\r\n    margin: 0 auto 0.4rem;\r\n    width: 0.66rem;\r\n    height: 0.66rem;\r\n    img {\r\n      width: 100%;\r\n    }\r\n  }\r\n  .registerMessage {\r\n    .username,\r\n    .pwd {\r\n      margin-bottom: 0.16rem;\r\n      padding-left: 0.16rem;\r\n      width: 100%;\r\n      height: 0.48rem;\r\n      background: #f9f9f9;\r\n      border: 1px solid rgba(0, 0, 0, 0.1);\r\n      outline-color: $outLine-color;\r\n      border-radius: 0.06rem;\r\n      &::placeholder {\r\n        font-weight: 500;\r\n        font-size: 0.16rem;\r\n        color: $color;\r\n        letter-spacing: 0;\r\n        line-height: 24px;\r\n      }\r\n    }\r\n    .pwd {\r\n      margin-bottom: 0.16rem;\r\n    }\r\n    .submit {\r\n      margin: 0.16rem 0;\r\n      width: 2.95rem;\r\n      height: 0.48rem;\r\n      line-height: 24px;\r\n      text-align: center;\r\n      font-size: 0.16rem;\r\n      background: $outLine-color;\r\n      color: #ffffff;\r\n      border: 0;\r\n      border-radius: 0.06rem;\r\n    }\r\n    .registerLink {\r\n      text-align: center;\r\n      font-size: 0.14rem;\r\n      color: $color;\r\n      .gapLine {\r\n        margin: 0 0.12rem;\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>"]}]}