{"remainingRequest":"C:\\Users\\52919\\Desktop\\jd_lqs\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\52919\\Desktop\\jd_lqs\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!C:\\Users\\52919\\Desktop\\jd_lqs\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!C:\\Users\\52919\\Desktop\\jd_lqs\\src\\views\\Register\\Register.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\Users\\52919\\Desktop\\jd_lqs\\src\\views\\Register\\Register.vue","mtime":1652879624931},{"path":"C:\\Users\\52919\\Desktop\\jd_lqs\\babel.config.js","mtime":1592841393000},{"path":"C:\\Users\\52919\\Desktop\\jd_lqs\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1650532020399},{"path":"C:\\Users\\52919\\Desktop\\jd_lqs\\node_modules\\babel-loader\\lib\\index.js","mtime":1650532020621},{"path":"C:\\Users\\52919\\Desktop\\jd_lqs\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1650532020399},{"path":"C:\\Users\\52919\\Desktop\\jd_lqs\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1650532023421}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkM6L1VzZXJzLzUyOTE5L0Rlc2t0b3AvamRfbHFzL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yLmpzIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgeyB1c2VSb3V0ZXIgfSBmcm9tICJ2dWUtcm91dGVyIjsKaW1wb3J0IHsgcmVhY3RpdmUsIHRvUmVmcyB9IGZyb20gIkB2dWUvcmVhY3Rpdml0eSI7CmltcG9ydCB7IHBvc3QgfSBmcm9tICIuLi8uLi91dGlscy9yZXF1ZXN0IjsgLy8gYXhpb3Por7fmsYLlh73mlbAKCmltcG9ydCBUb2FzdCwgeyB1c2VUb2FzdEVmZmVjdCB9IGZyb20gIi4uLy4uL2NvbXBvbmVudHMvVG9hc3QiOyAvLyDoh6rlrprkuYnlvLnnqpcKLy8g5aSE55CG5rOo5YaMCgp2YXIgdXNlUmVnaXN0ZXJFZmZlY3QgPSBmdW5jdGlvbiB1c2VSZWdpc3RlckVmZmVjdChzaG93VG9hc3QpIHsKICB2YXIgcm91dGVyID0gdXNlUm91dGVyKCk7CiAgdmFyIHJlZ2lzdGVyTWVzc2FnZSA9IHJlYWN0aXZlKHsKICAgIHVzZXJuYW1lOiAiIiwKICAgIHBhc3N3b3JkOiAiIiwKICAgIGVuc3VyZW1lbnQ6ICIiCiAgfSk7CgogIHZhciBfdG9SZWZzID0gdG9SZWZzKHJlZ2lzdGVyTWVzc2FnZSksCiAgICAgIHVzZXJuYW1lID0gX3RvUmVmcy51c2VybmFtZSwKICAgICAgcGFzc3dvcmQgPSBfdG9SZWZzLnBhc3N3b3JkLAogICAgICBlbnN1cmVtZW50ID0gX3RvUmVmcy5lbnN1cmVtZW50OwoKICB2YXIgaGFuZGxlUmVnaXN0ZXIgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkgewogICAgdmFyIF9yZWYgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgIHZhciByZXN1bHQ7CiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gMDsKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMzsKICAgICAgICAgICAgICByZXR1cm4gcmVxdWVzdCgiL3VzZXIvcmVnaXN0ZXIiLCByZWdpc3Rlck1lc3NhZ2UpOwoKICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgIHJlc3VsdCA9IF9jb250ZXh0LnNlbnQ7CgogICAgICAgICAgICAgIGlmICgocmVzdWx0ID09PSBudWxsIHx8IHJlc3VsdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVzdWx0LmVycm5vKSA9PT0gMCkgewogICAgICAgICAgICAgICAgc2hvd1RvYXN0KCLms6jlhozmiJDlip8hIik7CiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgcm91dGVyLnB1c2goewogICAgICAgICAgICAgICAgICAgIG5hbWU6ICJMb2dpbiIKICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9LCA4MDApOwogICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBzaG93VG9hc3QoIuazqOWGjOWksei0pSEiKTsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxMTsKICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gNzsKICAgICAgICAgICAgICBfY29udGV4dC50MCA9IF9jb250ZXh0WyJjYXRjaCJdKDApOwogICAgICAgICAgICAgIGNvbnNvbGUubG9nKF9jb250ZXh0LnQwKTsKICAgICAgICAgICAgICBzaG93VG9hc3QoIuivt+axguWksei0pSEiKTsKCiAgICAgICAgICAgIGNhc2UgMTE6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sIF9jYWxsZWUsIG51bGwsIFtbMCwgN11dKTsKICAgIH0pKTsKCiAgICByZXR1cm4gZnVuY3Rpb24gaGFuZGxlUmVnaXN0ZXIoKSB7CiAgICAgIHJldHVybiBfcmVmLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICB9OwogIH0oKTsKCiAgcmV0dXJuIHsKICAgIHVzZXJuYW1lOiB1c2VybmFtZSwKICAgIHBhc3N3b3JkOiBwYXNzd29yZCwKICAgIGVuc3VyZW1lbnQ6IGVuc3VyZW1lbnQsCiAgICBoYW5kbGVSZWdpc3RlcjogaGFuZGxlUmVnaXN0ZXIKICB9Owp9OwoKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJSZWdpc3RlciIsCiAgY29tcG9uZW50czogewogICAgVG9hc3Q6IFRvYXN0CiAgfSwKICBzZXR1cDogZnVuY3Rpb24gc2V0dXAoKSB7CiAgICB2YXIgX3VzZVRvYXN0RWZmZWN0ID0gdXNlVG9hc3RFZmZlY3QoKSwKICAgICAgICBzaG93ID0gX3VzZVRvYXN0RWZmZWN0LnNob3csCiAgICAgICAgY29udGVudCA9IF91c2VUb2FzdEVmZmVjdC5jb250ZW50LAogICAgICAgIHNob3dUb2FzdCA9IF91c2VUb2FzdEVmZmVjdC5zaG93VG9hc3Q7CgogICAgdmFyIF91c2VSZWdpc3RlckVmZmVjdCA9IHVzZVJlZ2lzdGVyRWZmZWN0KHNob3dUb2FzdCksCiAgICAgICAgdXNlcm5hbWUgPSBfdXNlUmVnaXN0ZXJFZmZlY3QudXNlcm5hbWUsCiAgICAgICAgcGFzc3dvcmQgPSBfdXNlUmVnaXN0ZXJFZmZlY3QucGFzc3dvcmQsCiAgICAgICAgZW5zdXJlbWVudCA9IF91c2VSZWdpc3RlckVmZmVjdC5lbnN1cmVtZW50LAogICAgICAgIGhhbmRsZVJlZ2lzdGVyID0gX3VzZVJlZ2lzdGVyRWZmZWN0LmhhbmRsZVJlZ2lzdGVyOwoKICAgIHJldHVybiB7CiAgICAgIHVzZXJuYW1lOiB1c2VybmFtZSwKICAgICAgcGFzc3dvcmQ6IHBhc3N3b3JkLAogICAgICBlbnN1cmVtZW50OiBlbnN1cmVtZW50LAogICAgICBoYW5kbGVSZWdpc3RlcjogaGFuZGxlUmVnaXN0ZXIsCiAgICAgIHNob3c6IHNob3csCiAgICAgIGNvbnRlbnQ6IGNvbnRlbnQKICAgIH07CiAgfQp9Ow=="},{"version":3,"mappings":";;AA6CA,SAASA,SAAT,QAA0B,YAA1B;AACA,SAASC,QAAT,EAAmBC,MAAnB,QAAiC,iBAAjC;AACA,SAASC,IAAT,QAAqB,qBAArB,C,CAA4C;;AAC5C,OAAOC,KAAP,IAAgBC,cAAhB,QAAsC,wBAAtC,C,CAAgE;AAEhE;;AACA,IAAMC,iBAAgB,GAAI,SAApBA,iBAAoB,CAACC,SAAD,EAAe;AACvC,MAAMC,MAAK,GAAIR,SAAS,EAAxB;AACA,MAAMS,eAAc,GAAIR,QAAQ,CAAC;AAC/BS,YAAQ,EAAE,EADqB;AAE/BC,YAAQ,EAAE,EAFqB;AAG/BC,cAAU,EAAE;AAHmB,GAAD,CAAhC;;AAKA,gBAA2CV,MAAM,CAACO,eAAD,CAAjD;AAAA,MAAQC,QAAR,WAAQA,QAAR;AAAA,MAAkBC,QAAlB,WAAkBA,QAAlB;AAAA,MAA4BC,UAA5B,WAA4BA,UAA5B;;AAEA,MAAMC,cAAa;AAAA,uEAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAEEC,OAAO,CAAC,gBAAD,EAAmBL,eAAnB,CAFT;;AAAA;AAEbM,oBAFa;;AAGnB,kBAAI,OAAM,SAAN,UAAM,WAAN,kBAAM,CAAEC,KAAR,MAAkB,CAAtB,EAAyB;AACvBT,yBAAS,CAAC,OAAD,CAAT;AACAU,0BAAU,CAAC,YAAM;AACfT,wBAAM,CAACU,IAAP,CAAY;AAAEC,wBAAI,EAAE;AAAR,mBAAZ;AACD,iBAFS,EAEP,GAFO,CAAV;AAGF,eALA,MAKO;AACLZ,yBAAS,CAAC,OAAD,CAAT;AACF;;AAVmB;AAAA;;AAAA;AAAA;AAAA;AAYnBa,qBAAO,CAACC,GAAR;AACAd,uBAAS,CAAC,OAAD,CAAT;;AAbmB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAJ;;AAAA,oBAAbM,cAAa;AAAA;AAAA;AAAA,KAAnB;;AAgBA,SAAO;AAAEH,YAAQ,EAARA,QAAF;AAAYC,YAAQ,EAARA,QAAZ;AAAsBC,cAAU,EAAVA,UAAtB;AAAkCC,kBAAa,EAAbA;AAAlC,GAAP;AACD,CA1BD;;AA2BA,eAAe;AACbM,MAAI,EAAE,UADO;AAEbG,YAAU,EAAE;AACVlB,SAAK,EAALA;AADU,GAFC;AAKbmB,OALa,mBAKL;AACN,0BAAqClB,cAAc,EAAnD;AAAA,QAAQmB,IAAR,mBAAQA,IAAR;AAAA,QAAcC,OAAd,mBAAcA,OAAd;AAAA,QAAuBlB,SAAvB,mBAAuBA,SAAvB;;AACA,6BACED,iBAAiB,CAACC,SAAD,CADnB;AAAA,QAAQG,QAAR,sBAAQA,QAAR;AAAA,QAAkBC,QAAlB,sBAAkBA,QAAlB;AAAA,QAA4BC,UAA5B,sBAA4BA,UAA5B;AAAA,QAAwCC,cAAxC,sBAAwCA,cAAxC;;AAGA,WAAO;AACLH,cAAQ,EAARA,QADK;AAELC,cAAQ,EAARA,QAFK;AAGLC,gBAAU,EAAVA,UAHK;AAILC,oBAAc,EAAdA,cAJK;AAKLW,UAAI,EAAJA,IALK;AAMLC,aAAO,EAAPA;AANK,KAAP;AAQD;AAlBY,CAAf","names":["useRouter","reactive","toRefs","post","Toast","useToastEffect","useRegisterEffect","showToast","router","registerMessage","username","password","ensurement","handleRegister","request","result","errno","setTimeout","push","name","console","log","components","setup","show","content"],"sourceRoot":"","sources":["C:\\Users\\52919\\Desktop\\jd_lqs\\src\\views\\Register\\Register.vue"],"sourcesContent":["<template>\r\n  <div class=\"registerLayout\">\r\n    <div class=\"userLogo\">\r\n      <img src=\"http://www.dell-lee.com/imgs/vue3/user.png\" alt=\"\" />\r\n    </div>\r\n\r\n    <div class=\"registerMessage\">\r\n      <input\r\n        type=\"text\"\r\n        class=\"username\"\r\n        placeholder=\"请输入用户名\"\r\n        v-model=\"username\"\r\n      />\r\n      <input\r\n        type=\"password\"\r\n        class=\"pwd\"\r\n        placeholder=\"请输入密码\"\r\n        v-model=\"password\"\r\n      />\r\n      <input\r\n        type=\"password\"\r\n        class=\"pwd\"\r\n        placeholder=\"请确认密码\"\r\n        v-model=\"ensurement\"\r\n      />\r\n      <button class=\"submit\" @click=\"handleRegister\">注册</button>\r\n\r\n      <div class=\"registerLink\">\r\n        <router-link :to=\"{ name: 'Login' }\">\r\n          <span class=\"registerLink__item\">已有账号去登录</span>\r\n        </router-link>\r\n      </div>\r\n    </div>\r\n\r\n    <transition\r\n      :duration=\"{ enter: 0, leave: 0 }\"\r\n      enter-active-class=\"animate__animated animate__fadeIn\"\r\n      leave-active-class=\"animate__animated animate__fadeOut\"\r\n    >\r\n      <Toast v-if=\"show\" :content=\"content\" />\r\n    </transition>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { useRouter } from \"vue-router\";\r\nimport { reactive, toRefs } from \"@vue/reactivity\";\r\nimport { post } from \"../../utils/request\"; // axios请求函数\r\nimport Toast, { useToastEffect } from \"../../components/Toast\"; // 自定义弹窗\r\n\r\n// 处理注册\r\nconst useRegisterEffect = (showToast) => {\r\n  const router = useRouter();\r\n  const registerMessage = reactive({\r\n    username: \"\",\r\n    password: \"\",\r\n    ensurement: \"\",\r\n  });\r\n  const { username, password, ensurement } = toRefs(registerMessage);\r\n\r\n  const handleRegister = async () => {\r\n    try {\r\n      const result = await request(\"/user/register\", registerMessage);\r\n      if (result?.errno === 0) {\r\n        showToast(\"注册成功!\");\r\n        setTimeout(() => {\r\n          router.push({ name: \"Login\" });\r\n        }, 800);\r\n      } else {\r\n        showToast(\"注册失败!\");\r\n      }\r\n    } catch (error) {\r\n      console.log(error);\r\n      showToast(\"请求失败!\");\r\n    }\r\n  };\r\n  return { username, password, ensurement, handleRegister };\r\n};\r\nexport default {\r\n  name: \"Register\",\r\n  components: {\r\n    Toast,\r\n  },\r\n  setup() {\r\n    const { show, content, showToast } = useToastEffect();\r\n    const { username, password, ensurement, handleRegister } =\r\n      useRegisterEffect(showToast);\r\n\r\n    return {\r\n      username,\r\n      password,\r\n      ensurement,\r\n      handleRegister,\r\n      show,\r\n      content,\r\n    };\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n@import \"../../style/viriables.scss\";\r\n.registerLayout {\r\n  padding: 1.2rem 0.4rem 0;\r\n  .userLogo {\r\n    margin: 0 auto 0.4rem;\r\n    width: 0.66rem;\r\n    height: 0.66rem;\r\n    img {\r\n      width: 100%;\r\n    }\r\n  }\r\n  .registerMessage {\r\n    .username,\r\n    .pwd {\r\n      margin-bottom: 0.16rem;\r\n      padding-left: 0.16rem;\r\n      width: 100%;\r\n      height: 0.48rem;\r\n      background: #f9f9f9;\r\n      border: 1px solid rgba(0, 0, 0, 0.1);\r\n      outline-color: #0091ff;\r\n      border-radius: 0.06rem;\r\n      &::placeholder {\r\n        font-weight: 500;\r\n        font-size: 0.16rem;\r\n        color: $color;\r\n        letter-spacing: 0;\r\n        line-height: 24px;\r\n      }\r\n    }\r\n    .pwd {\r\n      margin-bottom: 0.16rem;\r\n    }\r\n    .submit {\r\n      margin: 0.16rem 0;\r\n      width: 2.95rem;\r\n      height: 0.48rem;\r\n      line-height: 24px;\r\n      text-align: center;\r\n      font-size: 0.16rem;\r\n      background: #0091ff;\r\n      color: #ffffff;\r\n      border: 0;\r\n      border-radius: 0.06rem;\r\n    }\r\n    .registerLink {\r\n      text-align: center;\r\n      font-size: 0.14rem;\r\n      color: $color;\r\n      .gapLine {\r\n        margin: 0 0.12rem;\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>"]}]}