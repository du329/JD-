{"remainingRequest":"C:\\Users\\52919\\Desktop\\jd_lqs\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\52919\\Desktop\\jd_lqs\\node_modules\\vue-loader-v16\\dist\\templateLoader.js??ref--6!C:\\Users\\52919\\Desktop\\jd_lqs\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!C:\\Users\\52919\\Desktop\\jd_lqs\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!C:\\Users\\52919\\Desktop\\jd_lqs\\src\\views\\Shop\\Shop.vue?vue&type=template&id=288f1645&scoped=true","dependencies":[{"path":"C:\\Users\\52919\\Desktop\\jd_lqs\\src\\views\\Shop\\Shop.vue","mtime":1653034828896},{"path":"C:\\Users\\52919\\Desktop\\jd_lqs\\babel.config.js","mtime":1592841393000},{"path":"C:\\Users\\52919\\Desktop\\jd_lqs\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1650532020399},{"path":"C:\\Users\\52919\\Desktop\\jd_lqs\\node_modules\\babel-loader\\lib\\index.js","mtime":1650532020621},{"path":"C:\\Users\\52919\\Desktop\\jd_lqs\\node_modules\\vue-loader-v16\\dist\\templateLoader.js","mtime":1650532024992},{"path":"C:\\Users\\52919\\Desktop\\jd_lqs\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1650532020399},{"path":"C:\\Users\\52919\\Desktop\\jd_lqs\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1650532023421}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgY3JlYXRlRWxlbWVudFZOb2RlIGFzIF9jcmVhdGVFbGVtZW50Vk5vZGUsIHJlc29sdmVDb21wb25lbnQgYXMgX3Jlc29sdmVDb21wb25lbnQsIGNyZWF0ZVZOb2RlIGFzIF9jcmVhdGVWTm9kZSwgb3BlbkJsb2NrIGFzIF9vcGVuQmxvY2ssIGNyZWF0ZUJsb2NrIGFzIF9jcmVhdGVCbG9jaywgY3JlYXRlQ29tbWVudFZOb2RlIGFzIF9jcmVhdGVDb21tZW50Vk5vZGUsIEZyYWdtZW50IGFzIF9GcmFnbWVudCwgY3JlYXRlRWxlbWVudEJsb2NrIGFzIF9jcmVhdGVFbGVtZW50QmxvY2ssIHB1c2hTY29wZUlkIGFzIF9wdXNoU2NvcGVJZCwgcG9wU2NvcGVJZCBhcyBfcG9wU2NvcGVJZCB9IGZyb20gInZ1ZSI7Cgp2YXIgX3dpdGhTY29wZUlkID0gZnVuY3Rpb24gX3dpdGhTY29wZUlkKG4pIHsKICByZXR1cm4gX3B1c2hTY29wZUlkKCJkYXRhLXYtMjg4ZjE2NDUiKSwgbiA9IG4oKSwgX3BvcFNjb3BlSWQoKSwgbjsKfTsKCnZhciBfaG9pc3RlZF8xID0gewogIGNsYXNzOiAic2hvcEhlYWRlciIKfTsKdmFyIF9ob2lzdGVkXzIgPSB7CiAgY2xhc3M6ICJ0b3AiCn07CnZhciBfaG9pc3RlZF8zID0gewogIGNsYXNzOiAic2VhcmNoQm94Igp9Owp2YXIgX2hvaXN0ZWRfNCA9IHsKICBjbGFzczogInNob3BJbmZvIgp9OwpleHBvcnQgZnVuY3Rpb24gcmVuZGVyKF9jdHgsIF9jYWNoZSwgJHByb3BzLCAkc2V0dXAsICRkYXRhLCAkb3B0aW9ucykgewogIHZhciBfY29tcG9uZW50X1NlYXJjaCA9IF9yZXNvbHZlQ29tcG9uZW50KCJTZWFyY2giKTsKCiAgdmFyIF9jb21wb25lbnRfU2hvcEluZm8gPSBfcmVzb2x2ZUNvbXBvbmVudCgiU2hvcEluZm8iKTsKCiAgdmFyIF9jb21wb25lbnRfU2hvcE1haW4gPSBfcmVzb2x2ZUNvbXBvbmVudCgiU2hvcE1haW4iKTsKCiAgcmV0dXJuIF9vcGVuQmxvY2soKSwgX2NyZWF0ZUVsZW1lbnRCbG9jayhfRnJhZ21lbnQsIG51bGwsIFtfY3JlYXRlRWxlbWVudFZOb2RlKCJkaXYiLCBfaG9pc3RlZF8xLCBbX2NyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgX2hvaXN0ZWRfMiwgW19jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIHsKICAgIGNsYXNzOiAiYmFjayBpY29uIiwKICAgIG9uQ2xpY2s6IF9jYWNoZVswXSB8fCAoX2NhY2hlWzBdID0gZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gJHNldHVwLmhhbmRsZUJhY2sgJiYgJHNldHVwLmhhbmRsZUJhY2suYXBwbHkoJHNldHVwLCBhcmd1bWVudHMpOwogICAgfSkKICB9LCAi7pmAIiksIF9jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIF9ob2lzdGVkXzMsIFtfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9TZWFyY2gsIHsKICAgIHBsYWNlaG9sZGVyOiAkc2V0dXAucGxhY2Vob2xkZXIKICB9LCBudWxsLCA4CiAgLyogUFJPUFMgKi8KICAsIFsicGxhY2Vob2xkZXIiXSldKV0pLCBfY3JlYXRlRWxlbWVudFZOb2RlKCJkaXYiLCBfaG9pc3RlZF80LCBbJHNldHVwLml0ZW0uaW1nVXJsID8gKF9vcGVuQmxvY2soKSwgX2NyZWF0ZUJsb2NrKF9jb21wb25lbnRfU2hvcEluZm8sIHsKICAgIGtleTogMCwKICAgIGl0ZW06ICRzZXR1cC5pdGVtLAogICAgc2hvd0JvcmRlcjogZmFsc2UKICB9LCBudWxsLCA4CiAgLyogUFJPUFMgKi8KICAsIFsiaXRlbSJdKSkgOiBfY3JlYXRlQ29tbWVudFZOb2RlKCJ2LWlmIiwgdHJ1ZSldKV0pLCBfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9TaG9wTWFpbildLCA2NAogIC8qIFNUQUJMRV9GUkFHTUVOVCAqLwogICk7Cn0="},{"version":3,"mappings":";;;;;;;AACOA,OAAK,EAAC;;;AACJA,OAAK,EAAC;;;AAEJA,OAAK,EAAC;;;AAIRA,OAAK,EAAC;;;;;;;;;6DAPbC,oBAUM,KAVN,cAUM,CATJA,oBAKM,KALN,cAKM,CAJJA,oBAAyD,KAAzD,EAAyD;AAApDD,SAAK,EAAC,WAA8C;AAAjCE,WAAK;AAAA,aAAEC,+DAAF;AAAA;AAA4B,GAAzD,EAA2C,GAA3C,CAII,EAHJF,oBAEM,KAFN,cAEM,CADJG,aAAqCC,iBAArC,EAAqC;AAA5BC,eAAW,EAAEH;AAAe,GAArC,EAAiC,IAAjC,EAAiC;AAAA;AAAjC,IAAiC,eAAjC,CACI,CAFN,CAGI,CALN,CASI,EAHJF,oBAEM,KAFN,cAEM,CAD6CE,YAAKI,wBAAtDC,aAA+DC,mBAA/D,EAA+D;UAAA;AAApDC,QAAI,EAAEP,WAA8C;AAAvCQ,cAAU,EAAE;AAA2B,GAA/D;;AAAA,kDACI,CAFN,CAGI,CAVN,GAWAP,aAAYQ,mBAAZ","names":["class","_createElementVNode","onClick","$setup","_createVNode","_component_Search","placeholder","imgUrl","_createBlock","_component_ShopInfo","item","showBorder","_component_ShopMain"],"sourceRoot":"","sources":["C:\\Users\\52919\\Desktop\\jd_lqs\\src\\views\\Shop\\Shop.vue"],"sourcesContent":["<template>\r\n  <div class=\"shopHeader\">\r\n    <div class=\"top\">\r\n      <div class=\"back icon\" @click=\"handleBack\">&#xe640;</div>\r\n      <div class=\"searchBox\">\r\n        <Search :placeholder=\"placeholder\" />\r\n      </div>\r\n    </div>\r\n    <div class=\"shopInfo\">\r\n      <ShopInfo :item=\"item\" :showBorder=\"false\" v-if=\"item.imgUrl\"/>\r\n    </div>\r\n  </div>\r\n  <ShopMain />\r\n</template>\r\n\r\n<script>\r\nimport { reactive, toRefs } from \"@vue/reactivity\";\r\nimport { useRouter, useRoute } from \"vue-router\";\r\nimport Search from \"../../components/Search.vue\";\r\nimport ShopInfo from \"../../components/ShopInfo.vue\";\r\nimport ShopMain from './ShopMain.vue';\r\nimport ShopCart from './ShopCart.vue';\r\nimport { get } from \"../../utils/request\";\r\n\r\n// 回退\r\nconst useBackEffect = () => {\r\n  const router = useRouter();\r\n  const handleBack = () => {\r\n    router.back();\r\n  };\r\n  return handleBack;\r\n};\r\n\r\n// 获取当前商铺详情\r\nconst useShopDetialEffect = () => {\r\n  const route = useRoute();\r\n  const data = reactive({ item: {} });\r\n  // const data2 = { item: {} };  响应式--数据驱动\r\n  // let item = ref({});\r\n  // let item = reactive({}); 直接替换对象（地址），导致响应式失效\r\n  // 请求数据\r\n  const getShopDetial = async () => {\r\n    const result = await get(`/shop/${route.params.id}`);\r\n    if (result?.errno === 0 && result?.data) {\r\n      data.item = result.data; // √√√\r\n      // item.value = result.data;  √√√\r\n      // item = result.data;     xxx\r\n    }\r\n  };\r\n  // 异步：item -- 响应式\r\n  getShopDetial();\r\n  const { item } = toRefs(data);\r\n\r\n  return { item };\r\n};\r\n\r\nexport default {\r\n  name: \"Shop\",\r\n  components: {\r\n    Search,\r\n    ShopInfo,\r\n    ShopMain\r\n  },\r\n  setup() {\r\n    const placeholder = \"请输入商品名称搜索\";\r\n    const handleBack = useBackEffect();\r\n    const { item } = useShopDetialEffect();\r\n\r\n    return { placeholder, item, handleBack };\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n// 回退、搜索\r\n.top {\r\n  display: flex;\r\n  align-items: center;\r\n  padding: 0.16rem 0.14rem;\r\n  .back {\r\n    font-size: 0.28rem;\r\n    color: #b6b6b6;\r\n    padding-right: 0.1rem;\r\n  }\r\n  .searchBox {\r\n    width: 100%;\r\n  }\r\n}\r\n\r\n//shopInfo\r\n.shopInfo {\r\n  padding: 0 0.18rem;\r\n}\r\n</style>"]}]}